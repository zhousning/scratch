{"code":"1","message":"数据获取成功","value":{"previousExamTime":45,"previousExamName":"202103机器人六级实际操作真题","subjectLevelList":[{"id":4836,"createUser":null,"createTime":"2021-08-27 11:21:08","isDeleted":0,"updateUser":null,"updateTime":null,"version":0,"type":4,"title":"<p class=\"MsoNormal\"><span><font face=\"宋体\">主题：步进电机姿态控制</font> \r\n\r\n</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t&nbsp;<font face=\"宋体\">通过</font><font face=\"Calibri\">MPU6050</font><font face=\"宋体\">姿态传感器控制舵机的转动角度。 </font><font face=\"Calibri\">\r\n\r\n</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n \r\n\r\n</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t<font face=\"宋体\">器件： </font><font face=\"Calibri\">\r\n\r\n</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t&nbsp; ESP32<font face=\"宋体\">主控板、</font><font face=\"Calibri\">MPU6050</font><font face=\"宋体\">姿态传感器</font><font face=\"Calibri\">1</font><font face=\"宋体\">个、步进电机</font><font face=\"Calibri\">1</font><font face=\"宋体\">个、步进电机驱动器</font><font face=\"Calibri\">1</font><font face=\"宋体\">个及相关器件，以上部件均可采用分立器件。</font><font face=\"Calibri\">\r\n\r\n</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n \r\n\r\n</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t<font face=\"宋体\">要求： </font><font face=\"Calibri\">\r\n\r\n</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t&nbsp; (1)\r\n<font face=\"宋体\">系统启动后，步进电机先左转</font><font face=\"Calibri\">90</font><font face=\"宋体\">度，回到中间位置；然后右转</font><font face=\"Calibri\">90</font><font face=\"宋体\">度，再回到中间位置。 </font><font face=\"Calibri\">\r\n\r\n</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t&nbsp; (2)\r\n<font face=\"宋体\">通过</font><font face=\"Calibri\">MPU6050</font><font face=\"宋体\">姿态传感器的姿态角控制步进电机，自行决定采用俯仰角、偏航角、滚转角其中之一来控制部件电机的转动角度。并将所采用姿态角的当前数值输出到串口监视器。 </font><font face=\"Calibri\">\r\n\r\n</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t&nbsp; (3)\r\n<font face=\"宋体\">当姿态角的角度值为</font><font face=\"Calibri\">0</font><font face=\"宋体\">度时，步进电机处于中间位置。 </font><font face=\"Calibri\">\r\n\r\n</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t&nbsp; (4)\r\n<font face=\"宋体\">当姿态角的角度值为</font><font face=\"Calibri\">90</font><font face=\"宋体\">度时，步进电机处于右转</font><font face=\"Calibri\">90</font><font face=\"宋体\">度位置。 </font><font face=\"Calibri\">\r\n\r\n</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t&nbsp; (5)\r\n<font face=\"宋体\">当姿态角的角度值为</font><font face=\"Calibri\">-90</font><font face=\"宋体\">度时，步进电机处于左转</font><font face=\"Calibri\">90</font><font face=\"宋体\">度位置。 </font><font face=\"Calibri\">\r\n\r\n</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t&nbsp; (6)\r\n<font face=\"宋体\">程序采用</font><font face=\"Calibri\">C</font><font face=\"宋体\">代码编写。 </font><font face=\"Calibri\">\r\n\r\n</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t&nbsp; (7)\r\n<font face=\"宋体\">未作规定处可自行处理，无明显与事实违背即可。</font><font face=\"Calibri\">\r\n\r\n</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t&nbsp; (8)\r\n<font face=\"宋体\">程序编写过程中不得打开库例程和其它程序，如发现，实操成绩按照</font><font face=\"Calibri\">0</font><font face=\"宋体\">分处理。</font><font face=\"Calibri\">\r\n\r\n</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n \r\n\r\n</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t</span><b><span><font face=\"宋体\">说明：</font></span></b><span>&nbsp;\r\n\r\n</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t<font face=\"宋体\">请考生在考试结束前，按如下要求提交程序文件。</font><font face=\"Calibri\">\r\n\r\n</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t&nbsp; (1)&nbsp;<font face=\"宋体\">将所有程序文件放在一个文件夹，并将文件夹命名为：</font></span><span>DJKS6_<font face=\"宋体\">身份证号</font></span><span><font face=\"宋体\">；</font>\r\n\r\n</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t&nbsp; (2)&nbsp;<font face=\"宋体\">将程序文件压缩为</font><font face=\"Calibri\">\"</font></span><span>rar<font face=\"宋体\">或</font><font face=\"Calibri\">zip</font></span><span>\"<font face=\"宋体\">格式，大小</font></span><span>5M</span><span><font face=\"宋体\">以下，</font></span><span>1</span><span><font face=\"宋体\">个文件；</font>\r\n\r\n</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t&nbsp; (3)&nbsp;<font face=\"宋体\">将程序文件通过</font><font face=\"Calibri\">“</font></span><span><font face=\"宋体\">上传附件</font></span><span>”<font face=\"宋体\">按钮进行上传。</font><font face=\"Calibri\">\r\n\r\n</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n \r\n\r\n</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t</span><b><span><font face=\"宋体\">参考资料：</font></span></b><span>&nbsp;\r\n\r\n</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\tAccelStepper<font face=\"宋体\">类库头文件和相关类库函数如下，供参考。</font><font face=\"Calibri\">\r\n\r\n</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t<font face=\"宋体\">头文件：</font><font face=\"Calibri\">AccelStepper.h</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n<font face=\"宋体\">类库对象：</font><font face=\"Calibri\">AccelStepper(mode, pin1,pin2,pin3,pin4)</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n<font face=\"宋体\">成员函数：</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\nsetAcceleration(val); //<font face=\"宋体\">设置步进电机转动时的加速度。</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\nsetMaxSpeed(val); //<font face=\"宋体\">设置步进电机转动的最大允许速度。</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\nsetSpeed(val); //<font face=\"宋体\">设置步进电机恒定转动时的速度值。</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\nrunSpeed(); //<font face=\"宋体\">启动步进电机以设定的速度值恒定转动</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\ncurrentPosition(); //<font face=\"宋体\">返回当前的位置值</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\nmoveTo(val); //<font face=\"宋体\">设置步进电机运转的目标位置</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\nrun(); //<font face=\"宋体\">启动步进电机按照设定的加速度和最大速度运转。</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\nsetCurrentPosition(val); &nbsp;//<font face=\"宋体\">设置当前位置为指定值</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\ndistanceToGo(val);&nbsp; &nbsp;//<font face=\"宋体\">返回当前位置到目标位置之间的脉冲数。</font><font face=\"Calibri\">\r\n\r\n</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n\t</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n<font face=\"宋体\">教材使用类库</font><font face=\"Calibri\">MPU6050_tockn-1.5.2</font><font face=\"宋体\">的例程如下，供参考。</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n#include &lt;MPU6050_tockn.h&gt;&nbsp;</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n#include &lt;Wire.h&gt;&nbsp;&nbsp;</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\nMPU6050 mpu6050(Wire);&nbsp;</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\nvoid setup() {</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n&nbsp; Serial.begin(9600);</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n&nbsp; Wire.begin();&nbsp; &nbsp; &nbsp;</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n&nbsp; mpu6050.begin();&nbsp;</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n&nbsp; mpu6050.calcGyroOffsets(true);&nbsp; &nbsp;</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n}</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\nvoid loop() {</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n&nbsp; mpu6050.update();&nbsp;&nbsp;</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n&nbsp; Serial.print(\"angleX : \");</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n&nbsp; Serial.print(mpu6050.getAngleX());&nbsp; &nbsp;</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n&nbsp; Serial.print(\"\\tangleY : \");</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n&nbsp; Serial.print(mpu6050.getAngleY());&nbsp; &nbsp;</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n&nbsp; Serial.print(\"\\tangleZ : \");</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n&nbsp; Serial.println(mpu6050.getAngleZ());&nbsp;&nbsp;</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>\r\n}&nbsp;</span><span><o:p></o:p></span></p>","optionA":"","optionB":"","optionC":"","optionD":"","optionE":"","answer":"无","userAnswer":null,"analyzeContent":"<p class=\"MsoNormal\">一、<b>评分组成<span><o:p></o:p></span></b></p><p class=\"MsoNormal\"><span><font face=\"宋体\">实操题总分</font><font face=\"宋体\">100分，由两部分组成，分别为：</font></span><b><span>电路搭设</span></b><span>和</span><b><span>功能呈现</span></b><span><font face=\"宋体\">。其中电路搭设分值</font><font face=\"宋体\">20分，功能呈现80分。</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><!--[if !supportLists]--><span>二、</span><!--[endif]--><b><span><font face=\"微软雅黑\">电路搭设评分</font> <font face=\"微软雅黑\">-- 总分20分</font></span></b><b><span><o:p></o:p></span></b></p><p class=\"MsoNormal\"><span><font face=\"宋体\">电路搭设得分由两部分组成：原器件得分（</font><font face=\"宋体\">6分）和电路搭设得分（14分）。</font></span><b><span><o:p></o:p></span></b></p><p class=\"MsoNormal\"><b><span>原器件：</span></b><b><span><o:p></o:p></span></b></p><p class=\"MsoNormal\"><span>① 步进电机</span><span>\t</span><span>\t</span><span>\t</span><span>\t</span><span>\t</span><span>\t</span><span>\t</span><span>\t</span><span>2分</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>② 步进电机驱动器</span><span>\t</span><span>\t</span><span>\t</span><span>\t</span><span>\t</span><span>\t</span><span>2分</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>③ MPU6050姿态传感器</span><span>\t</span><span>\t</span><span>\t</span><span>\t</span><span>\t</span><span>2分 </span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><b><span>电路搭设：</span></b><b><span><o:p></o:p></span></b></p><p class=\"MsoNormal\"><span>④ MPU6050姿态传感器与主控板正确连接</span><span>\t</span><span>4分</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>⑤ 步进电机和步进电机驱动模块正确连接</span><span>\t</span><span>4分</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>⑥</span><span>&nbsp;<font face=\"宋体\">步进电机驱动模块与主控板正确连接</font></span><span>\t</span><span>\t</span><span>6分</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><!--[if !supportLists]--><span>三、</span><!--[endif]--><b><span><font face=\"微软雅黑\">功能呈现评分</font> <font face=\"微软雅黑\">-- 总分80分</font></span></b><b><span><o:p></o:p></span></b></p><p class=\"MsoNormal\"><span>① 系统启动后，步进电机实现左转90度，然后回到中间位置，得10分。</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>② 步进电机实现右转90度，然后回到中间位置，得10分。</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>③ 实现将MPU6050当前姿态角的数值显示在串口监视器，得10分。</span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>④ 实现</span><span><font face=\"宋体\">当串口监视器姿态角的数值为</font><font face=\"宋体\">90度时，步进电机处于右转90度位置，得25分。</font></span><span><o:p></o:p></span></p><p class=\"MsoNormal\"><span>⑤ 实现</span><span><font face=\"宋体\">当串口监视器姿态角的数值为</font><font face=\"宋体\">-90度时，步进电机处于左转90度位置，得25分。</font></span><span><o:p></o:p></span></p>","analyzeVideo":null,"subjectId":null,"examDots":"26,","previousId":257,"sprintId":null,"subjectNumber":null,"difficultyLevel":null,"images":null,"weType":0,"wxAnswerType":null,"isMySubject":null}]}}